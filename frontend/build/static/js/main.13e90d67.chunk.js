(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{35:function(e,n,t){},36:function(e,n,t){},56:function(e,n,t){},57:function(e,n,t){},63:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(1),r=t.n(a),s=t(27),i=t.n(s),o=(t(35),t(28)),u=t(2),l=(t(36),function(){return Object(c.jsx)("div",{className:"main-layout",children:Object(c.jsx)("h1",{children:"Dataset"})})}),j=t(10),b=["\u7ebf\u7d22\u7ec6\u80de","\u964d\u89e3\u7684\u7ebf\u7d22\u7ec6\u80de","\u6ef4\u866b","\u4e73\u6746\u83cc","\u5ff5\u73e0\u83cc","\u767d\u7ec6\u80de"],d=t(9),h=t.n(d),p=t(12),f=t(13),O=t.n(f),x=function(){var e=Object(p.a)(h.a.mark((function e(n,t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put("/api/v1/group/label/".concat(n),{label:t},{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/v1/group/info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/v1/group/label/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=(t(56),[]),k=function(){var e=Object(a.useState)(m),n=Object(j.a)(e,2),t=n[0],r=n[1],s=Object(a.useState)(0),i=Object(j.a)(s,2),o=i[0],u=i[1],l=Object(a.useState)(0),d=Object(j.a)(l,2),h=d[0],p=d[1],f=Object(a.useState)(""),O=Object(j.a)(f,2),k=O[0],N=O[1],y=Object(a.useState)(0),C=Object(j.a)(y,2),w=C[0],S=C[1];Object(a.useEffect)((function(){g().then((function(e){var n=e.data;n.success||console.error(n.message);var t=n.data.map((function(e){var n={uid:e.uid,label:e.label,instances:e.instances.map((function(e){return{uid:e.uid,file:e.file}}))};t.push(n)}));r(t),o<t.length&&p(t[o].label||0)})).catch((function(e){console.error(e)}))}),[]),Object(a.useEffect)((function(){if(0!==t.length){var e=t[o].uid;v(e).then((function(e){var n=e.data;n.success||console.error(n.message),o<t.length&&p(n.data.label)})).catch((function(e){console.error(e)}))}}),[t,o]);var F=function(e){return function(n){var t=null===h?0:h;n.target.checked?p(t|1<<e):p(t&~(1<<e))}},I=function(e){return function(){var n=o+e;!isNaN(n)&&n>=0&&n<t.length&&(p(t[n].label),u(n))}};return Object(c.jsxs)("div",{className:"main-layout",children:[Object(c.jsx)("h1",{children:"Labeling"}),Object(c.jsxs)("div",{className:"instance",children:[Object(c.jsx)("div",{className:"instance-group",children:[0,1,2,3,4,5,6,7,8,9].map((function(e,n){return Object(c.jsx)("img",{style:{marginBottom:0},alt:"",src:"/logo512.png",onClick:function(){S(n)}})}))}),Object(c.jsx)("div",{className:"instance-image",children:Object(c.jsx)("img",{alt:"",src:"/logo512.png"})}),Object(c.jsxs)("div",{className:"info",children:[Object(c.jsx)("div",{className:"vertical-divider"}),Object(c.jsxs)("div",{className:"instance-properties",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{children:"Group Uid:"}),Object(c.jsx)("p",{children:t[o]&&t[o].uid})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{children:"Group Label:"}),Object(c.jsx)("p",{children:t[o]&&t[o].label})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{children:"Image Uid:"}),Object(c.jsx)("p",{children:t[o]&&t[o].instances[w]&&t[o].instances[w].uid})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{children:"Image File:"}),Object(c.jsx)("p",{children:t[o]&&t[o].instances[w]&&t[o].instances[w].file})]})]})]})]}),Object(c.jsx)("div",{className:"checkboxes",children:b.map((function(e,n){return Object(c.jsxs)("span",{className:"checkbox",children:[Object(c.jsx)("input",{type:"checkbox",name:"category",checked:Boolean((null===h?0:h)&1<<n),onChange:F(n)}),e]})}))}),Object(c.jsx)("button",{id:"submit-button",onClick:function(e){if(!(o>=t.length)){var n=t[o].uid;x(n,h).then((function(e){var n=e.data;n.success||console.error(n.message)})).catch((function(e){console.error(e)}))}},disabled:null===h,children:"\u4fdd\u5b58"}),Object(c.jsxs)("div",{className:"paginator",children:[Object(c.jsx)("span",{children:Object(c.jsx)("button",{onClick:I(-1),children:"\u276e"})}),Array.from(Array(5).keys()).map((function(e){return e+Math.min(t.length-1-e,Math.max(o-2,0))})).filter((function(e){return e>=0&&e<t.length})).map((function(e,n){return Object(c.jsx)("span",{children:Object(c.jsx)("button",{onClick:(a=e,function(){!isNaN(a)&&a>=0&&a<t.length&&(p(t[a].label),u(a))}),style:e===o?{color:"blue"}:{},children:e})});var a})),Object(c.jsx)("span",{children:Object(c.jsx)("button",{onClick:I(1),children:"\u276f"})}),Object(c.jsx)("span",{children:Object(c.jsx)("button",{onClick:function(){if(!(o>=t.length)){var e=t[o].uid;p(0),x(e,0).then((function(e){var n=e.data;n.success||console.error(n.message)})).catch((function(e){console.error(e)}))}},children:"\u786e\u8ba4\u826f\u6027"})}),Object(c.jsx)("span",{}),Object(c.jsx)("span",{children:Object(c.jsx)("input",{type:"text",value:k,onChange:function(e){N(e.target.value)}})}),Object(c.jsx)("span",{children:Object(c.jsx)("button",{onClick:function(e){var n=parseInt(k);!isNaN(n)&&n>=0&&n<t.length&&(p(t[n].label),u(n))},children:"\u8df3\u8f6c"})})]})]})},N=t.p+"static/media/logo.6ce24c58.svg",y=(t(57),function(){return Object(c.jsx)("div",{className:"topbar",children:Object(c.jsx)("img",{src:N})})});var C=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y,{}),Object(c.jsxs)(o.a,{children:[Object(c.jsx)(u.a,{path:"/dataset",component:l}),Object(c.jsx)(u.a,{path:"/",component:k})]})]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,64)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),w()}},[[63,1,2]]]);
//# sourceMappingURL=main.13e90d67.chunk.js.map