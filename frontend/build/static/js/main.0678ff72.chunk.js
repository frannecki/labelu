(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{35:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){},57:function(e,n,t){},63:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(1),s=t.n(a),i=t(27),r=t.n(i),l=(t(35),t(28)),o=t(2),j=(t(36),function(){return Object(c.jsx)("div",{className:"main-layout",children:Object(c.jsx)("h1",{children:"Dataset"})})}),u=t(11),b=["\u7ebf\u7d22\u7ec6\u80de","\u964d\u89e3\u7684\u7ebf\u7d22\u7ec6\u80de","\u6ef4\u866b","\u4e73\u6746\u83cc","\u5ff5\u73e0\u83cc","\u767d\u7ec6\u80de"],d=(t(37),t(10)),h=t.n(d),f=t(14),O=t(15),x=t.n(O),p=function(){var e=Object(f.a)(h.a.mark((function e(n,t,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("/api/v1/instance/label",{uid:n,file:t,label:c},{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t,c){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/v1/instance/info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=[],g=function(){var e=Object(a.useState)(m),n=Object(u.a)(e,2),t=n[0],s=n[1],i=Object(a.useState)(0),r=Object(u.a)(i,2),l=r[0],o=r[1],j=Object(a.useState)(0),d=Object(u.a)(j,2),h=d[0],f=d[1],O=Object(a.useState)(""),x=Object(u.a)(O,2),g=x[0],N=x[1];Object(a.useEffect)((function(){v().then((function(e){var n=e.data;n.success||console.error(n.message),s(n.data),l<t.length&&f(t[l].label)})).catch((function(e){console.error(e)}))}),[]);var k=function(e){return function(n){var t=null===h?0:h;n.target.checked?f(t|1<<e):f(t&~(1<<e))}},y=function(e){return function(n){var c=l+e;!isNaN(c)&&c>=0&&c<t.length&&(f(t[c].label),o(c))}};return Object(c.jsxs)("div",{className:"main-layout",children:[Object(c.jsx)("h1",{children:"Labeling"}),Object(c.jsxs)("div",{className:"instance",children:[Object(c.jsx)("div",{className:"instance-image",children:Object(c.jsx)("img",{src:t[l]&&"/file/".concat(t[l].uid,"/").concat(t[l].file)})}),Object(c.jsxs)("div",{className:"info",children:[Object(c.jsx)("div",{className:"vertical-divider"}),Object(c.jsxs)("div",{className:"instance-properties",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{children:"Image Uid:"}),Object(c.jsx)("p",{children:t[l]&&t[l].uid})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{children:"Image File:"}),Object(c.jsx)("p",{children:t[l]&&t[l].image})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{children:"Patch File:"}),Object(c.jsx)("p",{children:t[l]&&t[l].file})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{children:"Label"}),Object(c.jsx)("p",{children:h})]})]})]})]}),Object(c.jsx)("div",{className:"checkboxes",children:b.map((function(e,n){return Object(c.jsxs)("span",{className:"checkbox",children:[Object(c.jsx)("input",{type:"checkbox",name:"category",checked:Boolean((null===h?0:h)&1<<n),onChange:k(n)}),e]})}))}),Object(c.jsx)("button",{id:"submit-button",onClick:function(e){if(!(l>=t.length)){var n=t[l].uid,c=t[l].file;f(0),p(n,c,h).then((function(e){var n=e.data;n.success||console.error(n.message)})).catch((function(e){console.error(e)}))}},disabled:null===h,children:"\u4fdd\u5b58"}),Object(c.jsxs)("div",{className:"paginator",children:[Object(c.jsx)("span",{onClick:y(-1),children:"\u276e"}),Array.from(Array(5).keys()).map((function(e){return e+Math.min(t.length-1-e,Math.max(l-2,0))})).filter((function(e){return e>=0&&e<t.length})).map((function(e,n){return Object(c.jsx)("span",{children:Object(c.jsx)("button",{onClick:(a=e,function(e){!isNaN(a)&&a>=0&&a<t.length&&(f(t[a].label),o(a))}),style:e===l?{color:"blue"}:{},children:e})});var a})),Object(c.jsx)("span",{onClick:y(1),children:"\u276f"}),Object(c.jsx)("span",{children:Object(c.jsx)("button",{onClick:function(){if(!(l>=t.length)){var e=t[l].uid,n=t[l].file;p(e,n,0).then((function(e){var n=e.data;n.success||console.error(n.message)})).catch((function(e){console.error(e)}))}},children:"\u786e\u8ba4\u826f\u6027"})}),Object(c.jsx)("span",{}),Object(c.jsx)("span",{children:Object(c.jsx)("button",{onClick:function(e){var n=parseInt(g);!isNaN(n)&&n>=0&&n<t.length&&(f(t[n].label),o(n))},children:"\u8df3\u8f6c"})}),Object(c.jsx)("span",{children:Object(c.jsx)("input",{type:"text",value:g,onChange:function(e){N(e.target.value)}})})]})]})},N=t.p+"static/media/logo.6ce24c58.svg",k=(t(57),function(){return Object(c.jsx)("div",{className:"topbar",children:Object(c.jsx)("img",{src:N})})});var y=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(k,{}),Object(c.jsxs)(l.a,{children:[Object(c.jsx)(o.a,{path:"/dataset",component:j}),Object(c.jsx)(o.a,{path:"/",component:g})]})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,64)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),s(e),i(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),C()}},[[63,1,2]]]);
//# sourceMappingURL=main.0678ff72.chunk.js.map